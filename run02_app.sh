#!/bin/bash

#################################################################
### YouTube文字起こしアプリ 起動スクリプト実行例(4つのモード)
#################################################################
# ①バックエンドのみ起動：バックエンドの開発用
# ②フロントエンド含めて全て起動（Docker）：本番環境向け
# ③バックエンド起動後、フロントエンドをローカルNode.jsで起動：フロントエンド開発用
# ④ヘルプ表示

#################################################################
### 使い分けガイド
#################################################################

#用途               推奨	                理由
#開発中	            --frontend-local    	コード変更が即反映、開発効率◎
#フロントエンド開発	 --frontend-local	     Hot Reload、Fast Refresh完全動作
#バックエンドのみ開発	バックエンドのみ起動   フロントエンド不要
#本番環境テスト	     --with-frontend	    Docker化された環境で動作確認
#Node.js未インストール	--with-frontend	    Docker内で完結
#デモ・プレゼン	    --with-frontend	        環境依存が少ない

#################################################################
#### ①バックエンドのみ起動                                     
#################################################################
#./startup.sh

#################################################################
#### ②フロントエンド含めて全て起動（Docker） 
#################################################################
#./startup.sh --with-frontend

#  特徴:
#  ・本番環境向け
#  ・フロントエンドもDockerコンテナで起動
#  　☞docker-compose.ymlのfrontendサービスを使用
#  　☞コンテナ内でNode.js環境が完結
#  メリット:
#   ✅ 環境が完全に隔離される
#   ✅ ローカルにNode.jsをインストール不要
#   ✅ Docker DesktopさえあればOK
#  デメリット:
#   ❌ コード変更時の反映が少し遅い
#   ❌ ホットリロードが効きにくい場合がある
#   ❌ デバッグがやや難しい

#################################################################
# ③バックエンド起動後、フロントエンドをローカルNode.jsで起動
#################################################################
./startup.sh --frontend-local

#  特徴:
#  ・フロントエンドをWSL/Linux上のNode.jsで直接起動
#  ・npm run dev (Next.js開発サーバー) を実行
#  ・ホストマシン上で直接実行
#  メリット:
#   ✅ コード変更が即座に反映 (ホットリロード高速)                  
#   ✅ 開発体験が最高 (Next.js Fast Refresh)
#   ✅ デバッグが簡単
#   ✅ ブラウザの開発者ツールと連携しやすい
#   ✅ VSCodeとの統合が良好
#  デメリット:
#   ❌ ローカルにNode.js 18以上が必要
#   ❌ npm installが必要        

#################################################################
# ④ヘルプ表示
#################################################################
#./startup.sh --help

